{% extends "trainers/base.html" %}

{% block title %}Elenco Personal Trainer{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center mb-4">Elenco dei Personal Trainer</h1>
    
    <ul class="list-group">
        {% for trainer in personal_trainer_list %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <h5>{{ trainer.nome }} {{ trainer.cognome }}</h5>
                    <p><strong>Preferenze:</strong> {{ trainer.preferenze }}</p>
                    <p><strong>Media Voti:</strong> 
                        {% if trainer.media_voti %}
                            {{ trainer.media_voti|floatformat:1 }} / 5
                            <!-- Visualizzazione delle stelle -->
                            <span>
                                {% for i in "12345" %}
                                    {% if forloop.counter <= trainer.media_voti %}
                                        <i class="fas fa-star text-warning"></i> <!-- Stella piena -->
                                    {% else %}
                                        <i class="far fa-star text-warning"></i> <!-- Stella vuota -->
                                    {% endif %}
                                {% endfor %}
                            </span>
                        {% else %}
                            Nessuna recensione
                        {% endif %}
                    </p>
                </div>
                <a href="{% url 'trainers:personal_trainer_review' trainer.pk %}" class="btn btn-primary">Dettagli</a>
            </li>

        {% empty %}
            <li class="list-group-item">Nessun personal trainer trovato.</li>
        {% endfor %}
    </ul>
    <div class="text-center mt-4">
        <a href="{% url 'trainers:disponibilita_personal_trainers' %}" class="btn btn-primary">Verifica disponibilit√†</a>
    </div>
</div>
{% endblock %}
